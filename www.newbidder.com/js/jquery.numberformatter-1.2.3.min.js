!function(r){function t(r,t,e){this.dec=r,this.group=t,this.neg=e}function e(){for(var r=0;r<s.length;r++){localeGroup=s[r];for(var t=0;t<localeGroup.length;t++)n.put(localeGroup[t],r)}}function a(r,a){0==n.size()&&e();var o=".",i=",",l="-";0==a&&(-1!=r.indexOf("_")?r=r.split("_")[1].toLowerCase():-1!=r.indexOf("-")&&(r=r.split("-")[1].toLowerCase()));var f=n.get(r);if(f){var s=u[f];s&&(o=s[0],i=s[1])}return new t(o,i,l)}var n=new Hashtable,o=["ae","au","ca","cn","eg","gb","hk","il","in","jp","sk","th","tw","us"],i=["at","br","de","dk","es","gr","it","nl","pt","tr","vn"],l=["cz","fi","fr","ru","se","pl"],f=["ch"],u=[[".",","],[",","."],[","," "],[".","'"]],s=[o,i,l,f];r.fn.formatNumber=function(t,e,a){return this.each(function(){null==e&&(e=!0),null==a&&(a=!0);var n;n=new String(r(this).is(":input")?r(this).val():r(this).text());var o=r.formatNumber(n,t);return e&&(r(this).is(":input")?r(this).val(o):r(this).text(o)),a?o:void 0})},r.formatNumber=function(t,e){for(var e=r.extend({},r.fn.formatNumber.defaults,e),n=a(e.locale.toLowerCase(),e.isFullLocale),o=(n.dec,n.group,n.neg,"0#-,."),i="",l=!1,f=0;f<e.format.length;f++){if(-1!=o.indexOf(e.format.charAt(f))){if(0==f&&"-"==e.format.charAt(f)){l=!0;continue}break}i+=e.format.charAt(f)}for(var u="",f=e.format.length-1;f>=0&&-1==o.indexOf(e.format.charAt(f));f--)u=e.format.charAt(f)+u;e.format=e.format.substring(i.length),e.format=e.format.substring(0,e.format.length-u.length);var s=new Number(t);return r._formatNumber(s,e,u,i,l)},r._formatNumber=function(t,e,n,o,i){var e=r.extend({},r.fn.formatNumber.defaults,e),l=a(e.locale.toLowerCase(),e.isFullLocale),f=l.dec,u=l.group,s=l.neg,h=!1;if(isNaN(t)){if(1!=e.nanForceZero)return null;t=0,h=!0}"%"==n&&(t=100*t);var c="";if(e.format.indexOf(".")>-1){var g=f,m=e.format.substring(e.format.lastIndexOf(".")+1);if(1==e.round)t=new Number(t.toFixed(m.length));else{var d=t.toString();d=d.substring(0,d.lastIndexOf(".")+m.length+1),t=new Number(d)}var v=t%1,b=new String(v.toFixed(m.length));b=b.substring(b.lastIndexOf(".")+1);for(var p=0;p<m.length;p++)if("#"!=m.charAt(p)||"0"==b.charAt(p)){if("#"==m.charAt(p)&&"0"==b.charAt(p)){var x=b.substring(p);if(x.match("[1-9]")){g+=b.charAt(p);continue}break}"0"==m.charAt(p)&&(g+=b.charAt(p))}else g+=b.charAt(p);c+=g}else t=Math.round(t);var w=Math.floor(t);0>t&&(w=Math.ceil(t));var N="";N=-1==e.format.indexOf(".")?e.format:e.format.substring(0,e.format.indexOf("."));var A="";if(0!=w||"#"!=N.substr(N.length-1)||h){var O=new String(Math.abs(w)),S=9999;-1!=N.lastIndexOf(",")&&(S=N.length-N.lastIndexOf(",")-1);for(var F=0,p=O.length-1;p>-1;p--)A=O.charAt(p)+A,F++,F==S&&0!=p&&(A=u+A,F=0);if(N.length>A.length){var L=N.indexOf("0");if(-1!=L)for(var I=N.length-L,M=N.length-A.length-1;A.length<I;){var _=N.charAt(M);","==_&&(_=u),A=_+A,M--}}}return A||-1===N.indexOf("0",N.length-1)||(A="0"),c=A+c,0>t&&i&&o.length>0?o=s+o:0>t&&(c=s+c),e.decimalSeparatorAlwaysShown||c.lastIndexOf(f)==c.length-1&&(c=c.substring(0,c.length-1)),c=o+c+n},r.fn.parseNumber=function(t,e,a){null==e&&(e=!0),null==a&&(a=!0);var n;n=new String(r(this).is(":input")?r(this).val():r(this).text());var o=r.parseNumber(n,t);return o&&(e&&(r(this).is(":input")?r(this).val(o.toString()):r(this).text(o.toString())),a)?o:void 0},r.parseNumber=function(t,e){for(var e=r.extend({},r.fn.parseNumber.defaults,e),n=a(e.locale.toLowerCase(),e.isFullLocale),o=n.dec,i=n.group,l=n.neg,f="1234567890.-";t.indexOf(i)>-1;)t=t.replace(i,"");t=t.replace(o,".").replace(l,"-");var u="",s=!1;("%"==t.charAt(t.length-1)||1==e.isPercentage)&&(s=!0);for(var h=0;h<t.length;h++)f.indexOf(t.charAt(h))>-1&&(u+=t.charAt(h));var c=new Number(u);if(s){c/=100;var g=u.indexOf(".");if(-1!=g){var m=u.length-g-1;c=c.toFixed(m+2)}else c=c.toFixed(u.length-1)}return c},r.fn.parseNumber.defaults={locale:"us",decimalSeparatorAlwaysShown:!1,isPercentage:!1,isFullLocale:!1},r.fn.formatNumber.defaults={format:"#,###.00",locale:"us",decimalSeparatorAlwaysShown:!1,nanForceZero:!0,round:!0,isFullLocale:!1},Number.prototype.toFixed=function(t){return r._roundNumber(this,t)},r._roundNumber=function(r,t){var e=Math.pow(10,t||0),a=String(Math.round(r*e)/e);if(t>0){var n=a.indexOf(".");for(-1==n?(a+=".",n=0):n=a.length-(n+1);t>n;)a+="0",n++}return a}}(jQuery);