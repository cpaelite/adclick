<md-dialog class="cs-edit-dialog" ng-cloak>
    <md-toolbar>
        <div class="md-toolbar-tools">
            <h2 class="md-title">{{ctrl.title | translate}}</h2>
        </div>
    </md-toolbar>

    <md-dialog-content class="md-dialog-content">

        <form name="editForm" ng-submit="ctrl.save()" class="form-horizontal">
            <div class="form-group">
                <label class="col-sm-3 control-label">Name：</label>
                <div class="col-sm-5">
                    <input type="text" class="form-control" ng-model="item.name" required>
                </div>
            </div>
            <!-- <div class="form-group">
                <label class="col-sm-3 control-label">Url：</label>
                <div class="col-sm-5">
                    <input type="text" class="form-control" ng-model="urlToken" required>
                </div>
            </div>
            <div class="url-tokens-row form-group">
                <label class="col-sm-3 control-label"></label>
                <div class="col-sm-5">
                    <i>Available URL tokens:</i>
                    <div class="url-tokens">
                        <div class="url-token"  ng-repeat="url in urlItem" ng-click="urlTokenClick(url)">
                            <span class="url-token-icon">+</span>
                            <span class="url-token-caption">{{url}}</span>
                        </div>
                    </div>
                </div>
            </div> -->
            <div class="form-group">
                <label class="col-sm-3 control-label">ImpressionPixelUrl：</label>
                <div class="col-sm-5">
                    <input type="text" class="form-control" ng-model="item.impressionPixelUrl" required>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">TrafficSource: </label>
                <div class="col-sm-5">
                    <md-select class="cs-subform-select" ng-model="item.trafficSource" required>
                        <md-option value="1">Adwords</md-option>
                        <md-option value="2">Popads</md-option>
                        <md-option value="3">Avazu</md-option>
                    </md-select>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">Country: </label>
                <div class="col-sm-5">
                    <md-select class="cs-subform-select" ng-model="item.country" required>
                        <md-option value="1">American</md-option>
                        <md-option value="2">Canada</md-option>
                        <md-option value="3">China</md-option>
                    </md-select>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">Cost Model：</label>
                <div class="col-sm-5 campaign-radio">  
                        <label class="radio-inline">
                        <input type="radio" ng-model="item.costModel" value="Do not track costs">Do not track costs
                        </label>
                        <label class="radio-inline">
                            <input type="radio" ng-model="item.costModel" value="CPC" ng-click="radioSelect('CPC')">CPC
                        </label>
                        <label class="radio-inline">
                            <input type="radio" ng-model="item.costModel" value="CPA" ng-click="radioSelect('CPA')">CPA
                        </label>
                        <label class="radio-inline">
                            <input type="radio" ng-model="item.costModel" value="CPM" ng-click="radioSelect('CPM')">CPM
                        </label>
                        <label class="radio-inline">
                            <input type="radio" ng-model="item.costModel" value="Auto" ng-click="radioSelect('Auto')">Auto
                        </label>                                
                </div>
            </div>
            
            <div class="form-group CPC-Con" ng-show="typeRadio">
                <label class="col-sm-3 control-label" ng-modle="radioTitle">{{radioTitle}}：</label>
                <div class="col-sm-5">
                    <span class="dollar-icon">$</span>
                    <input type="text" class="form-control dollar-input" ng-model="item.cpc" ng-value="$" required>
                </div>
            </div>

            <!-- <div class="form-group">
                <label class="col-sm-3 control-label">Status：</label>
                <div class="col-sm-5">
                    <label class="radio-inline">
                        <input type="radio" ng-model="item.status" value="0"> Active
                    </label>
                    <label class="radio-inline">
                        <input type="radio" ng-model="item.status" value="1"> InActive
                    </label>
                </div>
            </div> -->

            <div class="form-group tag-items">
                <label class="col-sm-3 control-label">Tags：</label>
                <div class="col-sm-5 selectize-input form-group">
                    <md-chips
                        ng-model="ctrl.tags"
                        readonly="ctrl.readonly"
                        md-removable="ctrl.removable"
                        placeholder="Enter a tag"
                        delete-button-label="Remove Tag"
                        delete-hint="Press delete to remove tag"
                        secondary-placeholder="+Tag"
                        md-max-chips="10">
                    </md-chips>
                </div>
            </div>

            <div class="form-group collapsible-tab">
                <div class="collapsible-header" ng-class="{'active':isActive}" ng-click="toggleShow('1')">
                    <div class="line"></div>
                    <div class="label-con">
                        <i class="material-icons">settings</i>
                        <label>Advanced</label>
                        <i class="material-icons arrow-down">keyboard_arrow_down</i>
                    </div>
                </div>
                <div class="collapse-wrapper" ng-show="visible">
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Postback URL：</label>
                        <div class="col-sm-5">
                            <input type="text" class="form-control" ng-model="item.url" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Pixel redirect URL：</label>
                        <div class="col-sm-5">
                            <input type="text" class="form-control" ng-model="item.url" required>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label class="col-sm-3 control-label">Destination：</label>
                <div class="col-sm-5">
                    <label class="radio-inline">
                        <input type="radio" ng-model="item.status" value="0" ng-click="destinationType('0')"> Flow
                    </label>
                    <label class="radio-inline">
                        <input type="radio" ng-model="item.status" value="1" ng-click="destinationType('1')"> URL
                    </label>
                </div>
            </div>
            <div class="flow-action" ng-show="flowAction">
                <div class="form-group flow-select">
                    <label class="col-sm-3 control-label">Flow：</label>
                    <div class="col-sm-5">
                        <md-select class="cs-subform-select" ng-model="item.country" required>
                            <md-option value="1">SelectFlow</md-option>
                            <md-option value="2">Canada</md-option>
                            <md-option value="3">China</md-option>
                        </md-select>
                    </div>
                </div>

                <div class="form-group flow-actions">
                    <ul>
                        <li class="new-flow">
                            <i class="material-icons">add</i>
                            Create new flow
                        </li>
                        <li class="edit-flow">
                            <i class="material-icons">edit</i>
                            Edit flow
                        </li>
                    </ul>
                </div>
            </div>
            

            <div class="url-token-con" ng-show="urlTokenCon">
                <div class="form-group">
                    <label class="col-sm-3 control-label">Url：</label>
                    <div class="col-sm-5">
                        <input type="text" class="form-control" ng-model="urlToken" required>
                    </div>
                </div>
                <div class="url-tokens-row form-group">
                    <label class="col-sm-3 control-label"></label>
                    <div class="col-sm-5">
                        <i>Available URL tokens:</i>
                        <div class="url-tokens">
                            <div class="url-token"  ng-repeat="url in urlItem" ng-click="urlTokenClick(url)">
                                <span class="url-token-icon">+</span>
                                <span class="url-token-caption">{{url}}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group collapsible-tab">
                <div class="collapsible-header" ng-class="{'active1':isActive1}" ng-click="toggleShow('2')">
                    <div class="line"></div>
                    <div class="label-con">
                        <i class="material-icons">transform</i>
                        <label>Flow preview</label>
                        <i class="material-icons arrow-down">keyboard_arrow_down</i>
                    </div>
                </div>
            </div>

            <div class="form-group" ng-show="ztreeShow">
                <div class="col-sm-3">
                    <ul tree class="ztree" ng-model="selectNode"></ul>
                </div>
            </div>

        </form>

    </md-dialog-content>

    <md-dialog-actions>
        <md-button class="md-primary" ng-click="ctrl.save()" ng-disabled="editForm.$invalid">{{'save' | translate}}
        </md-button>
        <md-button class="md-primary" ng-click="ctrl.cancel()">{{'cancel' | translate}}</md-button>
    </md-dialog-actions>

</md-dialog>